<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UAF CGPA Calculator</title>
  <style>
    :root {
      --brand: #7a6ad8;
      --brand-600: #6b5fca;
      --brand-700: #5d52b8;
      --text: #1b1f24;
      --muted: #6b7280;
      --radius: 1.25rem;
    }
    
    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(180deg, #f8f9ff 0%, #ffffff 70%);
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }
    
    .calculator-container {
      max-width: 720px;
      margin: 0 auto;
    }
    
    .full-width-container {
      width: 100%;
    }
    
    .card-modern {
      border: 0;
      border-radius: var(--radius);
      box-shadow: 0 10px 30px rgba(17, 24, 39, .06);
      margin-bottom: 2rem;
    }
    
    .card-header {
      background: linear-gradient(180deg, rgba(122, 106, 216, .15), rgba(122, 106, 216, .05));
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
      padding: 1.5rem;
    }
    
    .card-body {
      padding: 1.5rem;
    }
    
    .btn-primary-action {
      background: linear-gradient(180deg, var(--brand), var(--brand-700));
      color: #fff;
      border: 0;
      border-radius: 2rem;
      padding: 0.8rem 1.5rem;
      box-shadow: 0 6px 18px rgba(122, 106, 216, .12);
      cursor: pointer;
    }
    
    .btn-primary-action:hover {
      background: linear-gradient(180deg, var(--brand-600), var(--brand-700));
      transform: translateY(-2px);
    }
    
    .loading-container {
      display: none;
      text-align: center;
      padding: 2rem;
    }
    
    .loading-animation {
      width: 100px;
      height: 100px;
      margin: 0 auto 1.5rem;
      position: relative;
    }
    
    .loading-book {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transform: rotateX(-10deg);
      animation: bookFloat 3s ease-in-out infinite;
    }
    
    .book-cover {
      position: absolute;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, var(--brand), var(--brand-700));
      border-radius: 5px 12px 12px 5px;
      transform-origin: left;
      box-shadow: 4px 4px 10px rgba(0,0,0,0.1);
    }
    
    .book-page {
      position: absolute;
      width: 95%;
      height: 90%;
      background: white;
      top: 5%;
      left: 2.5%;
      border-radius: 3px 10px 10px 3px;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    
    .book-page::before {
      content: "";
      position: absolute;
      width: 100%;
      height: 20px;
      background: linear-gradient(to bottom, rgba(0,0,0,0.03) 0%, transparent 100%);
      animation: pageTurn 2s ease-in-out infinite;
    }
    
    .loading-dots {
      display: flex;
      justify-content: center;
      gap: 6px;
      margin-top: 1rem;
    }
    
    .loading-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--brand);
      animation: dotPulse 1.5s ease-in-out infinite;
    }
    
    .loading-dot:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .loading-dot:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    .loading-text {
      font-weight: 600;
      margin-top: 1rem;
      color: var(--brand);
      font-size: 1.1rem;
    }
    
    .loading-subtext {
      color: var(--muted);
      margin-top: 0.5rem;
    }
    
    @keyframes bookFloat {
      0%, 100% { transform: rotateX(-10deg) translateY(0); }
      50% { transform: rotateX(-5deg) translateY(-10px); }
    }
    
    @keyframes pageTurn {
      0%, 100% { transform: translateY(0); opacity: 0.5; }
      50% { transform: translateY(40px); opacity: 0.8; }
    }
    
    @keyframes dotPulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.5); opacity: 0.7; }
    }
    
    .semester-card {
      background: white;
      border-radius: var(--radius);
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(17,24,39,.06);
      margin-bottom: 1.5rem;
    }
    
    .student-info-section {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }
    
    .student-details {
      text-align: left;
    }
    
    .cgpa-display {
      text-align: left;
    }
    
    .save-button-container {
      display: flex;
      justify-content: center;
      margin-top: 1.5rem;
    }
    
    @media (max-width: 768px) {
      .student-info-section {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .cgpa-display {
        margin-top: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- UAF CGPA Calculator Section -->
  <section class="py-5">
    <div class="container">
      <div class="calculator-container">
        <div class="card-modern">
          <div class="card-header">
            <h4 class="mb-0"><i class="fa-solid fa-bolt me-2"></i>UAF CGPA Calculator</h4>
          </div>
          <div class="card-body">
            <form id="resultForm">
              <div class="mb-3">
                <label for="registrationNumber" class="form-label">Registration Number</label>
                <input type="text" class="form-control" id="registrationNumber" 
                       placeholder="e.g., 2020-ag-1234" required>
                <div class="form-text">Enter your UAF registration number</div>
              </div>
              
              <div class="center-buttons">
                <button type="submit" class="btn btn-primary-action">
                  <i class="fa-solid fa-cloud-arrow-down me-2"></i>Fetch Result
                </button>
              </div>
            </form>
            
            <!-- Loading Animation -->
            <div id="loadingContainer" class="loading-container">
              <div class="loading-animation">
                <div class="loading-book">
                  <div class="book-cover"></div>
                  <div class="book-page"></div>
                </div>
              </div>
              <div class="loading-dots">
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
              </div>
              <div class="loading-text" id="loadingText">Connecting to UAF LMS</div>
              <div class="loading-subtext" id="loadingSubtext">Please wait while we establish a secure connection</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Results Container -->
      <div id="resultContainer" style="display: none;">
        <!-- Student Info Section -->
        <div class="calculator-container">
          <div class="card-modern">
            <div class="card-header">
              <h4 class="mb-0"><i class="fa-solid fa-user-graduate me-2"></i>Student Information</h4>
            </div>
            <div class="card-body">
              <div class="student-info-section">
                <div class="student-details">
                  <h2 class="mb-1 fw-bold" id="studentName">Student Name</h2>
                  <p class="mb-0 text-body-secondary" id="studentReg">Registration Number</p>
                </div>
                
                <div class="cgpa-display">
                  <p class="mb-0 text-body-secondary">Total CGPA</p>
                  <p class="mb-0 display-6 fw-bold" style="color: var(--brand);" id="totalCgpa">0.00</p>
                  <p class="mb-0 text-body-secondary" id="totalPercentage">0%</p>
                </div>
              </div>
              
              <!-- Save Button -->
              <div class="save-button-container">
                <button id="saveToWebBtn" class="btn btn-primary-action">
                  <i class="fa-solid fa-cloud-arrow-up me-2"></i>Save to Web
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Semester Results - Full Width -->
        <div class="full-width-container">
          <div class="container">
            <div id="semesterResults" class="row">
              <!-- Semester cards will be dynamically inserted here -->
              <div class="col-md-6 mb-4">
                <div class="semester-card">
                  <h5 class="mb-3">
                    <i class="fa-solid fa-book-open me-2" style="color: var(--brand);"></i>
                    Spring 2023
                  </h5>
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>Course</th>
                          <th>Hrs</th>
                          <th>Marks</th>
                          <th>Grade</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>CS-101</td>
                          <td>3</td>
                          <td>85</td>
                          <td>A</td>
                        </tr>
                        <tr>
                          <td>MATH-101</td>
                          <td>3</td>
                          <td>78</td>
                          <td>B+</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="text-right">
                    <p class="mb-0 text-body-secondary small">Semester GPA: 3.75</p>
                  </div>
                </div>
              </div>
              
              <div class="col-md-6 mb-4">
                <div class="semester-card">
                  <h5 class="mb-3">
                    <i class="fa-solid fa-book-open me-2" style="color: var(--brand);"></i>
                    Fall 2023
                  </h5>
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>Course</th>
                          <th>Hrs</th>
                          <th>Marks</th>
                          <th>Grade</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>CS-201</td>
                          <td>3</td>
                          <td>92</td>
                          <td>A</td>
                        </tr>
                        <tr>
                          <td>MATH-201</td>
                          <td>3</td>
                          <td>88</td>
                          <td>A-</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="text-right">
                    <p class="mb-0 text-body-secondary small">Semester GPA: 3.92</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const resultForm = document.getElementById('resultForm');
      const loadingContainer = document.getElementById('loadingContainer');
      const loadingText = document.getElementById('loadingText');
      const loadingSubtext = document.getElementById('loadingSubtext');
      const resultContainer = document.getElementById('resultContainer');
      
      // Update loading animation text
      function updateLoadingText(mainText, subText) {
        loadingText.textContent = mainText;
        loadingSubtext.textContent = subText;
      }
      
      // Simulate fetching result
      resultForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Show loading animation
        loadingContainer.style.display = 'block';
        updateLoadingText('Connecting to UAF LMS', 'Establishing secure connection');
        
        // Simulate different stages of fetching
        setTimeout(() => {
          updateLoadingText('Authenticating', 'Verifying your registration details');
        }, 2000);
        
        setTimeout(() => {
          updateLoadingText('Fetching Results', 'Retrieving your academic records');
        }, 4000);
        
        setTimeout(() => {
          updateLoadingText('Processing Data', 'Calculating CGPA and grades');
        }, 6000);
        
        // Show results after simulation
        setTimeout(() => {
          loadingContainer.style.display = 'none';
          resultContainer.style.display = 'block';
          
          // Update student info
          document.getElementById('studentName').textContent = 'Ali Ahmed';
          document.getElementById('studentReg').textContent = '2020-ag-7890';
          document.getElementById('totalCgpa').textContent = '3.83';
          document.getElementById('totalPercentage').textContent = '88.5%';
        }, 8000);
      });
    });
  </script>
  
  <!-- Bootstrap & Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
